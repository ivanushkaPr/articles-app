(function(e){function t(t){for(var i,o,n=t[0],l=t[1],c=t[2],u=0,h=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],i=!0,n=1;n<s.length;n++){var l=s[n];0!==r[l]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=s[0]))}return e}var i={},r={app:0},a=[];function o(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=i,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(s,i,function(t){return e[t]}.bind(null,i));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/articles-app/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=l;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"000f":function(e,t,s){},"0057":function(e,t,s){"use strict";s("5618")},"00ab":function(e,t,s){"use strict";s("2087")},"0298":function(e,t,s){"use strict";s("506d")},"068a":function(e,t,s){"use strict";s("ad3d")},"0f63":function(e,t,s){},1679:function(e,t,s){},"1ca4":function(e,t,s){},"1e2d":function(e,t,s){},"1f98":function(e,t,s){"use strict";s("d472")},2087:function(e,t,s){},"246c":function(e,t,s){"use strict";s("dc4f")},3469:function(e,t,s){"use strict";s("3e13")},"3e13":function(e,t,s){},4918:function(e,t,s){},"506d":function(e,t,s){},"50be":function(e,t,s){"use strict";s("edbb")},"53a2":function(e,t,s){"use strict";s("df0f")},5618:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var i=s("2b0e"),r=s("1dce"),a=s.n(r),o=s("c28b"),n=s.n(o),l=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e.isArticlesDownloaded?t("div",{staticClass:"app__wrapper"},[t("div",{staticClass:"app__content"},[t("the-sidebar"),this.$store.state.modal.isVisible?t("the-add-category-modal"):e._e(),this.$store.state.deleteModal.isVisible?t("the-delete-category-modal"):e._e(),this["changeModal/getModalState"]()?t("the-change-categories-modal"):e._e(),t("the-header"),e.isCategoriesAdded&&0===e.getSearchQuery.length?t("div",e._l(e.renderedCategoriesData,(function(s,i){return t("category-list",e._b({key:i,class:["mb-16px"],attrs:{open:!0}},"category-list",s,!1))})),1):0!==e.renderedArticlesData.length?t("the-filtered-articles",{attrs:{articlesData:e.renderedArticlesData,"articles-counter":e.searchResultArticles}}):0===e.renderedArticlesData.length&&e.getSearchQuery.length>0?t("the-nothing-found-stub"):t("the-stub")],1),e.getPaginationVisibility?t("div",{staticClass:"app__footer"},[t("the-pagination",{attrs:{currentPage:e.getCurrentPage,pagesCounter:e.getNumberOfPages},on:{pageChange:e.onPageChange,goBack:e.onDecrementPageCounter,goForward:e.onIncrementPageCounter}})],1):e._e()]):t("div",[t("the-preloader")],1)])},c=[],d=(s("14d9"),s("2f62")),u=function(){var e=this,t=e._self._c;return t("form",{ref:"self",staticClass:"the-add-category-modal",on:{submit:function(t){return t.preventDefault(),e.onSubmitForm.apply(null,arguments)}}},[t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onCloseModal,expression:"onCloseModal"}],staticClass:"the-add-category-modal__window"},[t("h2",{staticClass:"the-add-category-modal__headline"},[e._v(" Новая категория ")]),t("base-input",{staticClass:"mb-16px",attrs:{legend:"Название",error:e.$v.categoryName.$error,"error-message":e.getCategoryNameErrorMessage,value:e.categoryName},on:{input:e.onNameChange}}),e.parentOptions.length>0?t("base-select",{staticClass:"mb-16px",attrs:{legend:"Родительская карточка (необязательно)",value:e.selectedParent,error:e.$v.selectedParent.$error,"error-message":e.selectedParentErrorMessage,options:e.parentOptions,"option-highlighted-index":e.firstOptionThatContainsParent},on:{input:e.onParentInputChange}}):e._e(),t("base-multi-select",{class:["mb-350px"],attrs:{legend:"Вложенные статьи",value:e.searchQuery,error:e.$v.searchQuery.$error,"error-message":e.getSearchQueryErrorMessage,options:e.articlesOptions,"selected-options":e.articlesSelectedOptions,"option-highlighted-index":e.firstArticleThatContainsQuery},on:{input:e.onArticlesInputChange,"option-selected":e.onArticleSelected,"option-deleted":e.onArticleUnselected}}),t("hr",{staticClass:"the-add-category-modal__divider",attrs:{color:"#BFC3D5",width:"100%"}}),t("div",{staticClass:"the-add-category-modal__controls"},[t("BaseActionButton",{staticClass:"mr-24px",attrs:{text:"Сохранить",type:"submit",disabled:e.categoryName&&e.$v.categoryName.$error,bg:!0}}),t("BaseCancelButton",{attrs:{text:"Отмена",bg:!0},on:{onButtonClicked:e.onCloseModal}})],1)],1)])},h=[],g=(s("13d5"),{methods:{findCategory(e,t){return this.iterateCategories(e,t)},iterateCategories(e,t,s){let i=null;for(let r=0;r<e.length;r+=1){const a=e[r];if(a.name===t){i={category:a,parent:s};break}a.children.length>0&&!i&&(i=this.iterateCategories(a.children,t,a))}return i}}}),p={methods:{toggleBodyOverflow(){document.body.classList.toggle("overflow-hidden")}}},y={methods:{onArticlesInputChange(e){this.$v.searchQuery.$reset(),this.lastAction="inputChange",this.searchQuery=e,this.searchQueryTimer&&clearTimeout(this.searchQueryTimer),this.searchQueryTimer=setTimeout(()=>this.$v.searchQuery.$touch(),1e3)},onArticleSelected(e){this.lastAction="optionAdded",this.searchQuery=e,this.$v.searchQuery.$touch(),this.$v.searchQuery.$error||""===e||(this.articlesSelectedOptions.push(e),this.articlesSelectedOptions.sort(),this.searchQuery="")},onArticleUnselected(e){this.lastAction="optionAdded";const t=this.articlesSelectedOptions.indexOf(e);this.articlesSelectedOptions.splice(t,1)},getCategoryNames(e,t){return e.reduce((e,t)=>(e.push(t.name),t.children.length&&this.getCategoryNames(t.children,e),e),t)}},computed:{firstArticleThatContainsQuery(){return this.searchQuery?this.articlesOptions.findIndex(e=>e.includes(this.searchQuery)):-1}}},m=s("b5ae");function C(e){return""!==e}function b(e,t){return function(s){let i=null;return!this[e].some(e=>(i=(!t||e!==t)&&e===s,i))}}function f(e){return!m["helpers"].req(e)||!!this.parentOptions.some(t=>t===e)}function _(e){const t=!m["helpers"].req(e),s=this.articlesOptions.some(t=>t.startsWith(e));return t||s}function v(e){const t=!!this.articlesOptions.some(t=>t===e);return!m["helpers"].req(e)||t}function O(e){const t=this.articlesSelectedOptions.some(t=>t===e);return!m["helpers"].req(e)||!0!==t}var S={directives:{clickOutside:n.a.directive},mixins:[g,p,y],data(){return{categoryName:"",selectedParent:"",selectedParentErrorMessage:"Нет такой категории",parentOptions:[],parentTimer:null,searchQuery:"",selectedArticlesError:!1,articlesOptions:[],articlesSelectedOptions:[],searchQueryTimer:null,isOptionAdded:!1,isSubmitted:!1,lastAction:null,isEdited:!1}},validations(){const e={categoryName:{isNotEmpty:C,checkCategoryExistence:b("parentOptions")},selectedParent:{checkParentExistence:f},searchQuery:{isOptionStartWithQuery:_}};return"optionAdded"===this.lastAction?e.searchQuery={isArticleExists:v,isArticleSelected:O}:this.isEdited?e.categoryName={isNotEmpty:C,checkCategoryExistence:b("parentOptions",this.getEditedCategory().category.name)}:"formSubmitted"===this.lastAction&&(e.searchQuery={}),e},methods:{onNameChange(e){this.categoryName=e,this.$v.categoryName.$touch()},onParentInputChange(e){this.$v.selectedParent.$reset(),this.selectedParent=e,this.parentTimer&&clearTimeout(this.parentTimer),this.parentTimer=setTimeout(()=>this.onSelectedParentTouch(),1e3)},onSelectedParentTouch(){this.$v.selectedParent.$touch()},onArticleSelected(e){this.lastAction="optionAdded",this.searchQuery=e,this.$v.searchQuery.$touch(),this.$v.searchQuery.$error||""===e||(this.articlesSelectedOptions.push(e),this.articlesSelectedOptions.sort(),this.searchQuery="")},onCloseModal(){this.$store.commit("deleteEditedCategory"),this.$store.commit("modal/close")},marArticlesNamesToId(e){return e.map(e=>{const t=this.$store.state.articles.find(t=>t.headline===e);return t.id})},createNewCategory(){return{name:this.categoryName,articlesIds:this.marArticlesNamesToId(this.articlesSelectedOptions),children:this.isEdited?[...this.getEditedCategory().category.children]:[]}},copyObject(e){return JSON.parse(JSON.stringify(e))},insertCategory(e,t){let s=null;return s=this.isEdited?this.insertEditedCategory(e,t):this.insertNewCategory(e,t),s},isCategoryHaveParent(){return this.selectedParent},insertEditedCategory(e,t){const s=this.copyObject(e);return this.isCategoryHaveParent()?this.insertAsChildCategory(s):this.insertAsRootElement(s,t)},insertAsRootElement(e,t){const s=this.getEditedCategory().category.name,{parent:i}=this.findCategory(e,s);if(i){const t=i.children.findIndex(e=>e.name===s),r=i.children.splice(t,1);e.push(r[0])}else{const i=e.findIndex(e=>e.name===s);e.splice(i,1,t)}return e},insertAsChildCategory(e){const{parent:t}=this.findCategory(e,this.getEditedCategory().category.name),{category:s}=this.findCategory(e,this.selectedParent),i=t?t.children:e,r=i.findIndex(e=>e.name===this.getEditedCategory().category.name),a=i.splice(r,1);return s.children.push(a[0]),e},insertNewCategory(e,t){const s=this.copyObject(e);if(this.selectedParent){const e=this.findCategory(s,this.selectedParent);e.category.children.push(t)}else s.push(t),s.sort();return s},onSubmitForm(){if(this.lastAction="formSubmitted",this.$v.$touch(),!this.$v.$invalid){const e=this.createNewCategory(),t=this.copyObject(this.getCategories()),s=this.insertCategory(t,e);this.addNewCategory(s),localStorage.setItem("categories",JSON.stringify(this.$store.state.categories)),this.$store.commit("modal/close")}},onCloseModalViaKeyboard(e){"Escape"===e.code&&this.$store.commit("modal/close")},getCategoryNames(e,t){return e.reduce((e,t)=>(e.push(t.name),t.children.length&&this.getCategoryNames(t.children,e),e),t)},...Object(d["b"])(["addNewCategory","setEditedCategory"]),...Object(d["c"])(["getCategories","getEditedCategory"])},computed:{...Object(d["d"])({getArticles(e){return e.articles}}),getCategoryNameErrorMessage(){const e={isNotEmpty:"Поле обязательно к заполнению",checkCategoryExistence:"Такое название существует."},t=["isNotEmpty","checkCategoryExistence"].find(e=>!1===this.$v.categoryName[e]);return e[t]},getSelectedParentError(){const e={checkParentExistence:"Нет такой категории"},t=["checkParentExistence"].find(e=>!1===this.$v.selectedParent[e]);return e[t]},getSearchQueryErrorMessage(){const e={isOptionStartWithQuery:"Нет такой статьи",isArticleExists:"Нет такой статьи",isArticleSelected:"Статья уже выбрана",isNotEmpty:"Поле обязательно к заполнению"},t=["isOptionStartWithQuery","isNotEmpty","isArticleExists","isArticleSelected"].find(e=>!1===this.$v.searchQuery[e]);return e[t]},firstOptionThatContainsParent(){return this.selectedParent?this.parentOptions.findIndex(e=>e.includes(this.selectedParent)):-1}},mounted(){window.addEventListener("keypress",this.onCloseModalViaKeyboard),this.toggleBodyOverflow(),this.$refs.self.style.top=window.pageYOffset+"px"},beforeDestroy(){window.removeEventListener("keypress",this.onCloseModalViaKeyboard),this.toggleBodyOverflow(),this.setEditedCategory(null)},watch:{"$store.state.articles":{handler(e){const t=e.map(e=>e.headline);this.articlesOptions=t},immediate:!0},"$store.state.categories":{handler(e){this.parentOptions=this.getCategoryNames(e,[])},immediate:!0},"$store.state.editedCategory":{handler(e){var t,s;if(null===e)return;this.categoryName=null===e||void 0===e||null===(t=e.category)||void 0===t?void 0:t.name,this.selectedParent=(null===e||void 0===e||null===(s=e.parent)||void 0===s?void 0:s.name)||"";const{articles:i}=this.$store.state;this.articlesSelectedOptions=e.category.articlesIds.map(e=>i[e-1].headline);const r=this.parentOptions.findIndex(e=>e===this.categoryName);this.parentOptions.splice(r,1),this.isEdited=!0},immediate:!0}}},P=S,w=(s("5b36"),s("2877")),x=Object(w["a"])(P,u,h,!1,null,null,null),N=x.exports,k=function(){var e=this,t=e._self._c;return t("form",{ref:"self",staticClass:"the-delete-category-modal",on:{submit:function(t){return t.preventDefault(),e.onDeleteCategory.apply(null,arguments)}}},[t("section",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onCloseDeleteModal,expression:"onCloseDeleteModal"}],staticClass:"the-delete-category-modal__window"},[t("h2",{staticClass:"the-delete-category-modal__headline"},[e._v(" Удалить категорию? ")]),t("p",{staticClass:"the-delete-category-modal__description"},[e._v(" Все дочерние категории удалятся. ")]),t("div",{staticClass:"the-delete-category-modal__controls"},[t("BaseActionButton",{attrs:{text:"Удалить"}}),t("BaseCancelButton",{attrs:{text:"Отмена"},on:{onButtonClicked:e.onCloseDeleteModal}})],1)])])},A=[],E={directives:{clickOutside:n.a.directive},mixins:[g,p],methods:{...Object(d["b"])(["deleteModal/closeModal","addNewCategory","setEditedCategory"]),copyObject(e){return JSON.parse(JSON.stringify(e))},getCategories(){return this.$store.getters.getCategories},getEditedCategoryName(){return this.$store.getters.getEditedCategory.category.name},onDeleteCategory(){const e=this.copyObject(this.getCategories()),{category:t,parent:s}=this.findCategory(e,this.getEditedCategoryName()),i=this.deleteCategory(e,s,t);this.addNewCategory(i),localStorage.setItem("categories",JSON.stringify(this.$store.state.categories)),this["deleteModal/closeModal"]()},deleteCategory(e,t,s){if(t){const e=t.children,i=e.findIndex(e=>e.name===s.name);t.children.splice(i,1)}else{const t=e.findIndex(e=>e.name===s.name);e.splice(t,1)}return e},onCloseDeleteModal(){this["deleteModal/closeModal"]()}},mounted(){this.toggleBodyOverflow(),this.$refs.self.style.top=window.pageYOffset+"px"},beforeDestroy(){this.toggleBodyOverflow(),this.setEditedCategory(null)}},$=E,M=(s("aad2"),Object(w["a"])($,k,A,!1,null,"3d555c66",null)),I=M.exports,D=function(){var e=this,t=e._self._c;return t("form",{ref:"self",staticClass:"the-change-categories-modal",on:{submit:function(t){return t.preventDefault(),e.onSubmitForm.apply(null,arguments)}}},[t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onCloseModal,expression:"onCloseModal"}],staticClass:"the-change-categories-modal__window"},[t("h2",{staticClass:"the-change-categories-modal__headline"},[e._v(" Изменение расположения статьи ")]),t("base-multi-select",{class:["mb-350px",{"mb-16px":!0}],attrs:{legend:"Вложенные статьи",value:e.searchQuery,error:e.$v.searchQuery.$error,"error-message":e.getSearchQueryErrorMessage,options:e.articlesOptions,"selected-options":e.articlesSelectedOptions,"option-highlighted-index":e.firstArticleThatContainsQuery,"slot-value":e.newCategoryName,"slot-error":e.$v.newCategoryName.$error,"slot-error-message":e.getNewCategoryNameErrorMessage},on:{input:e.onArticlesInputChange,"option-selected":e.onArticleSelected,"option-deleted":e.onArticleUnselected,slotInputChange:e.onChangeNewCategoryName,slotButtonClicked:e.onCreateNewCategory},scopedSlots:e._u([{key:"default",fn:function(s){return[s.slotVisibility?t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:s.slotHideSlotContent,expression:"slotProps.slotHideSlotContent"}],staticClass:"flexed align-items-flex-start"},[t("base-input",{class:["mr-16px"],attrs:{value:s.slotInputValue,error:s.slotError,"error-message":s.slotErrorMessage,legend:"Название новой категории"},on:{input:s.slotInputHandler}}),t("base-action-button",{style:{"min-width":"160px"},attrs:{text:"Создать",disabled:s.slotError||""===s.slotInputValue},on:{onButtonClicked:s.slotButtonHandler}})],1):e._e()]}}])}),t("hr",{staticClass:"the-change-categories-modal__divider",attrs:{color:"#BFC3D5",width:"100%"}}),t("div",{staticClass:"the-change-categories-modal__controls"},[t("BaseActionButton",{staticClass:"mr-24px",attrs:{text:"Сохранить",type:"submit",bg:!0}}),t("BaseCancelButton",{attrs:{text:"Отмена",bg:!0},on:{onButtonClicked:e.onCloseModal}})],1)],1)])},B=[],Q={mixins:[p,y],directives:{clickOutside:n.a.directive},data(){return{searchQuery:"",articlesOptions:[],articlesSelectedOptions:[],newCategoryName:"",lastAction:""}},validations(){const e={searchQuery:{isOptionStartWithQuery:_},newCategoryName:{checkCategoryExistence:b("articlesOptions")}};return"optionAdded"===this.lastAction?e.searchQuery={isArticleExists:v,isArticleSelected:O}:"formSubmitted"===this.lastAction&&(e.searchQuery={}),e},methods:{onCloseModal(){this["changeModal/closeModal"]()},onSubmitForm(){if(this.lastAction="formSubmitted",this.$v.$touch(),!this.$v.$invalid){const e=this.copyObject(this.getCategories());this.changeIDS(e,this.articlesSelectedOptions,this.getEditedArticleID()),this.addNewCategory(e),localStorage.setItem("categories",JSON.stringify(this.getCategories())),this["changeModal/closeModal"]()}},changeIDS(e,t,s){e.forEach(e=>{const i=e.articlesIds.indexOf(s),r=t.indexOf(e.name);-1===i&&-1!==r?e.articlesIds.push(s):-1!==i&&-1===r&&e.articlesIds.splice(i,1),e.children.length>0&&this.changeIDS(e.children,t,s)})},onChangeNewCategoryName(e){this.newCategoryName=e,this.$v.$touch(),this.$v.newCategoryName.$touch()},onCreateNewCategory(){const e=this.createNewCategory(),t=this.copyObject(this.getCategories()),s=this.insertCategory(t,e);this.addNewCategory(s),localStorage.setItem("categories",JSON.stringify(this.getgetCategories())),this.$nextTick(()=>{this.onArticleSelected(this.newCategoryName),this.newCategoryName=""})},copyObject(e){return JSON.parse(JSON.stringify(e))},insertCategory(e,t){const s=this.copyObject(e);return s.push(t),s.sort(),s},createNewCategory(){return{name:this.newCategoryName,articlesIds:[this.getEditedArticleID()],children:[]}},...Object(d["b"])(["changeModal/closeModal","addNewCategory","setEditedCategory","addNewCategory"]),...Object(d["c"])(["getEditedArticleID","getCategories"])},computed:{getNewCategoryNameErrorMessage(){const e={checkCategoryExistence:"Такое название существует."},t=["checkCategoryExistence"].find(e=>!1===this.$v.newCategoryName[e]);return e[t]},getSearchQueryErrorMessage(){const e={isOptionStartWithQuery:"Поле не может быть пустым",isArticleExists:"Нет такой статьи",isArticleSelected:"Статья уже выбрана",isNotEmpty:"Поле обязательно к заполнению"},t=["isOptionStartWithQuery","isNotEmpty","isArticleExists","isArticleSelected"].find(e=>!1===this.$v.searchQuery[e]);return e[t]}},watch:{"$store.state.articleParentCategories":{handler(e){this.articlesSelectedOptions=e},immediate:!0},"$store.state.categories":{handler(e){this.articlesOptions=["Создать новую категорию",...this.getCategoryNames(e,[])]},immediate:!0,deeep:!0}},mounted(){window.addEventListener("keypress",this.onCloseModalViaKeyboard),this.toggleBodyOverflow(),this.$refs.self.style.top=window.pageYOffset+"px"},beforeDestroy(){window.removeEventListener("keypress",this.onCloseModalViaKeyboard),this.toggleBodyOverflow()}},j=Q,T=(s("0057"),Object(w["a"])(j,D,B,!1,null,null,null)),q=T.exports,L=function(){var e=this,t=e._self._c;return t("aside",{staticClass:"the-sidebar"},[t("base-action-button",{attrs:{text:"Удалить все категории"},on:{onButtonClicked:e.onDeleteCategories}})],1)},V=[],F={methods:{onDeleteCategories(){this.addNewCategory([]),localStorage.setItem("categories",JSON.stringify(this.getCategories()))},...Object(d["b"])(["addNewCategory"]),...Object(d["c"])(["getCategories"])}},R=F,J=(s("f9c4"),Object(w["a"])(R,L,V,!1,null,null,null)),H=J.exports,G=function(){var e=this,t=e._self._c;return t("header",{staticClass:"header mb-48px"},[t("base-action-button",{staticClass:"mr-16px",attrs:{text:"Создать категорию","is-add-button":!0},on:{onButtonClicked:e.onOpenModal}}),t("base-input",{class:{"mr-16px":0!==e.getSearchQuery.length},attrs:{legend:"Найти статью",type:"search",value:e.getSearchQuery},on:{input:e.onInput}}),0!==e.getSearchQuery.length?t("base-cancel-button",{attrs:{text:"Сбросить фильтры"},on:{onButtonClicked:e.resetSearchQuery}}):e._e()],1)},K=[],W={methods:{...Object(d["b"])(["updateSearchQuery"]),onOpenModal(){this.$store.commit("modal/open")},onInput(e){this.updateSearchQuery(e)},resetSearchQuery(){this.updateSearchQuery("")}},computed:{...Object(d["c"])(["getSearchQuery"])}},U=W,Y=(s("8687"),Object(w["a"])(U,G,K,!1,null,null,null)),z=Y.exports,X=function(){var e=this,t=e._self._c;return t("div",{staticClass:"the-stub"},[t("h2",{staticClass:"the-stub-headline"},[e._v(" Пока нет статей ")]),t("p",{staticClass:"the-stub-text mb-16px"},[e._v(" Создайте свою первую категорию и добавьте в неё статьи. ")]),t("base-action-button",{attrs:{text:"Создать категорию","is-add-button":!0},on:{onButtonClicked:e.onOpenModal}})],1)},Z=[],ee={methods:{onOpenModal(){this.$store.commit("modal/open")}}},te=ee,se=(s("1f98"),Object(w["a"])(te,X,Z,!1,null,"403f7670",null)),ie=se.exports,re=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"category-list"},[t("header",{staticClass:"category-list__header",class:{"mb-0px":e.getArticlesLen}},[t("div",{staticClass:"category-list__info"},[t("h2",{staticClass:"category-list__headline"},[e._v(e._s(e.name))]),t("sup",{staticClass:"category-list__counter"},[e._v("("+e._s(e.getArticlesCounter)+")")])]),t("div",{staticClass:"category-list__controls"},[t("button",{staticClass:"category-list__button-opener mr-16px",class:{"rotate-180-deg":e.isOpened},on:{click:e.onToggleArticlesVisibility}}),t("div",{staticClass:"category-list__edit-block"},[t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutsideEditMenu,expression:"onClickOutsideEditMenu"}],staticClass:"category-list__burger-menu",on:{click:e.onToggleEditMenu}},[t("span",{staticClass:"category-list__menu-dot"}),t("span",{staticClass:"category-list__menu-dot"}),t("span",{staticClass:"category-list__menu-dot"})]),t("ul",{staticClass:"category-list__edit-list",class:{"category-list__edit-list_hidden":!e.isEditMenuShowed}},[t("li",{staticClass:"category-list__edit-list-item",on:{click:e.onOpenModal}},[e._v(" Редактировать ")]),t("li",{staticClass:"category-list__edit-list-item",on:{click:e.onOpenDeleteCategoryModal}},[e._v(" Удалить ")])])])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpened,expression:"isOpened"}],staticClass:"category-list__articles"},e._l(e.articlesIds,(function(s){return t("category-list-article",e._b({key:s},"category-list-article",e.getArticleById(s),!1))})),1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.children&&e.isOpened,expression:"children && isOpened"}]},e._l(e.children,(function(s){return t("category-list",e._b({key:s.name,class:["mb-16px"],attrs:{topLevelOpenedState:e.isOpened}},"category-list",s,!1))})),1)])},ae=[],oe=function(){var e=this,t=e._self._c;return t("section",{staticClass:"category-list-article mr-24px mb-24px"},[t("div",{staticClass:"category-list-article__popularity mb-8px"},[t("base-like-button",{attrs:{isChecked:e.isLiked,counter:e.likes},on:{input:e.onChangeLikeCounter}}),t("base-edit-button",{on:{onButtonClicked:e.onShowChangeModal}})],1),t("img",{staticClass:"category-list-article__image",attrs:{src:e.img}}),t("h3",{staticClass:"category-list-article__headline"},[e._v(e._s(e.headline))]),t("p",{staticClass:"category-list-article__text"},[e._v(e._s(e.description))])])},ne=[],le={methods:{findAllParentDirectories(e,t){return e.reduce((e,s)=>(-1!==s.articlesIds.indexOf(t)&&e.push(s.name),s.children.length>0&&e.push(...this.findAllParentDirectories(s.children,t)),e),[])}}},ce={name:"CategoryListArticle",mixins:[le],props:{headline:{type:String,required:!0},img:{type:String,required:!0},description:{type:String,required:!0},likes:{type:Number,required:!1},id:{type:Number,required:!0},isLiked:{type:Boolean,required:!0}},data(){return{isChecked:!1}},methods:{onChangeLikeCounter(){this.isChecked=!this.isChecked;const e=this.isChecked?"addLike":"removeLike";this.$store.commit(e,this.id-1)},onShowChangeModal(){const e=this.findAllParentDirectories(this.getCategories(),this.id);this.setArticleParentCategories(e),this.setEditedArticleID(this.id),this["changeModal/openModal"]()},...Object(d["b"])(["changeModal/openModal","setArticleParentCategories","setEditedArticleID"]),...Object(d["c"])(["getCategories"])},watch:{isLiked(e){this.isChecked=e}}},de=ce,ue=(s("3469"),Object(w["a"])(de,oe,ne,!1,null,"0eaad246",null)),he=ue.exports,ge={methods:{countArticles(e){return e.reduce((e,t)=>{let s=t.articlesIds.length;return t.children.length>0&&(s+=this.countArticles(t.children)),s+e},0)}}},pe={name:"CategoryList",mixins:[g,ge],directives:{clickOutside:n.a.directive},props:{name:{type:String,required:!0},articlesIds:{type:Array,required:!0,validator(e){return e.every(e=>"number"===typeof e)}},children:{type:Array,required:!1},open:{type:Boolean,required:!1,default:!1},topLevelOpenedState:{type:Boolean,required:!1,default:void 0}},components:{CategoryListArticle:he},data(){return{isOpened:this.open,isEditMenuShowed:!1}},methods:{...Object(d["b"])(["modal/openModal","setEditedCategory","deleteModal/openModal"]),onOpenModal(){const e=this.findCategory(this.$store.state.categories,this.name);this.setEditedCategory(e),this.onToggleEditMenu(),this["modal/openModal"]()},onToggleEditMenu(){this.isEditMenuShowed=!this.isEditMenuShowed},onToggleArticlesVisibility(){this.isOpened=!this.isOpened},getArticleById(e){return this.$store.state.articles[e-1]},onOpenDeleteCategoryModal(){const e=this.findCategory(this.$store.state.categories,this.name);this.setEditedCategory(e),this.onToggleEditMenu(),this["deleteModal/openModal"]()},onClickOutsideEditMenu(){this.isEditMenuShowed=!1},copyObject(e){return JSON.parse(JSON.stringify(e))}},computed:{getArticlesLen(){return 0===this.articlesIds.length},getArticlesCounter(){return this.articlesIds.length+this.countArticles(this.copyObject(this.children))},getData(){return{headline:"Город невезения 1",img:"https://avatars.dzeninfra.ru/get-zen_doc/114944/pub_5b10fd35fd96b192a89fcf02_5b10fe6fe44a94290ba07f4b/scale_1200",description:"Идейные соображения высшего порядка, а также сложившаяся структура организации играет важную роль в формировании существенных финансовых и административных условий. Равным образом начало повседневной работы по формированию позиции повседневной работы по формированию позицииповседневной работы по формированию позицииповседневной работы по формированию позицииповседневной работы по формированию позицииповседневной работы по формированию позицииповседневной работы по формированию позицииповседневной работы по формированию позицииповседневной работы по формированию позицииповседневной работы по формированию позиции",likes:10,id:1}}},watch:{topLevelOpenedState(e){!1===e&&(this.isOpened=e)}}},ye=pe,me=(s("91e7"),Object(w["a"])(ye,re,ae,!1,null,"44a9af00",null)),Ce=me.exports,be=function(){var e=this,t=e._self._c;return t("section",{staticClass:"the-filtered-articles"},[t("h2",{staticClass:"the-filtered-articles__headline"},[e._v("Найдено: "+e._s(e.articlesCounter)+" статей")]),t("div",{staticClass:"the-filtered-articles__article-cards"},e._l(e.articlesData,(function(s,i){return t("category-list-article",e._b({key:i},"category-list-article",s,!1))})),1)])},fe=[],_e={components:{CategoryListArticle:he},name:"the-filtered-articles",props:{articlesData:{type:Array,required:!0},articlesCounter:{type:Number,required:!0}}},ve=_e,Oe=(s("00ab"),Object(w["a"])(ve,be,fe,!1,null,"25326b78",null)),Se=Oe.exports,Pe=function(){var e=this;e._self._c;return e._m(0)},we=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"the-nothing-found-stub"},[t("h2",{staticClass:"the-nothing-found-stub__headline"},[e._v(" Ничего не найдено ")]),t("p",{staticClass:"the-nothing-found-stub__description"},[e._v(" По вашему запросу мы не смогли найти ни одной статьи ")])])}],xe=(s("246c"),{}),Ne=Object(w["a"])(xe,Pe,we,!1,null,null,null),ke=Ne.exports,Ae=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"base-pagination"},e._l(e.generateRenderData,(function(s,i,r){return t("li",{key:r},["base-pagination__dots"===s.class?t("p",{class:[s.class]},[t("span",{staticClass:"base-pagination__dot"}),t("span",{staticClass:"base-pagination__dot"}),t("span",{staticClass:"base-pagination__dot"})]):t("p",{class:[s.class,e.currentPage===s.page?"base-pagination__go-to-page-button_active":""],on:{click:function(t){return e.callHandler(s.handler,s.page)}}},[e._v(" "+e._s(s.page?s.page:"")+" ")])])})),0)},Ee=[],$e={props:{currentPage:{type:Number,required:!0},pagesCounter:{type:Number,required:!0}},methods:{callHandler(e,t){this[e](t)},onGoToPage(e){this.$emit("pageChange",e)},onShowPrevPage(){1!==this.currentPage&&this.$emit("goBack")},onShowNextPage(){this.currentPage+1>this.pagesCounter||this.$emit("goForward")},singlePagePaginationClasses(){return[{class:"base-pagination__to-prev-page-button",handler:"onShowPrevPage"},{class:"base-pagination__go-to-page-button",handler:"onGoToPage",page:1},{class:"base-pagination__to-next-page-button",handler:"onShowNextPage"}]},firstFourPagesShowedClasses(){const e=[{class:"base-pagination__to-prev-page-button",handler:"onShowPrevPage"}];for(let t=1;t<5;t+=1)e.push({class:"base-pagination__go-to-page-button",page:t,handler:"onGoToPage"});return e.push({class:"base-pagination__dots",handler:"onShowNextPage"},{class:"base-pagination__go-to-page-button",page:this.pagesCounter,handler:"onGoToPage"},{class:"base-pagination__to-next-page-button",handler:"onShowNextPage"}),e},lastFourPagesShowedClasses(){const e=[{class:"base-pagination__to-prev-page-button",handler:"onShowPrevPage"},{class:"base-pagination__go-to-page-button",page:1,handler:"onGoToPage"},{class:"base-pagination__dots",handler:"onShowPrevPage"}];for(let t=this.pagesCounter-3;t<=this.pagesCounter;t+=1)e.push({class:"base-pagination__go-to-page-button",page:t,handler:"onGoToPage"});return e.push({class:"base-pagination__to-next-page-button",handler:"onShowNextPage"}),e},lessThenSixPagesPaginationClasses(){const e=[{class:"base-pagination__to-prev-page-button",handler:"onShowPrevPage"}];for(let t=1;t<this.pagesCounter+1;t+=1)e.push({class:"base-pagination__go-to-page-button",page:t,handler:"onGoToPage"});return e.push({class:"base-pagination__to-next-page-button",handler:"onShowNextPage"}),e},twoPagesShowedClasses(){const e=[{class:"base-pagination__to-prev-page-button",handler:"onShowPrevPage"},{class:"base-pagination__go-to-page-button",page:1,handler:"onGoToPage"},{class:"base-pagination__dots",handler:"onShowPrevPage"}];for(let t=this.currentPage;t<this.currentPage+2;t+=1)e.push({class:"base-pagination__go-to-page-button",page:t,handler:"onGoToPage"});return e.push({class:"base-pagination__dots",handler:"onShowNextPage"},{class:"base-pagination__go-to-page-button",page:this.pagesCounter,handler:"onGoToPage"},{class:"base-pagination__to-next-page-button",handler:"onShowNextPage"}),e}},computed:{generateRenderData(){let e=null;return e=1===this.pagesCounter?this.singlePagePaginationClasses():this.pagesCounter<7?this.lessThenSixPagesPaginationClasses():this.currentPage<4?this.firstFourPagesShowedClasses():this.currentPage>this.pagesCounter-4?this.lastFourPagesShowedClasses():this.twoPagesShowedClasses(),e}}},Me=$e,Ie=(s("a469"),Object(w["a"])(Me,Ae,Ee,!1,null,"7cfd13a5",null)),De=Ie.exports,Be=s("a524"),Qe={name:"App",components:{TheAddCategoryModal:N,TheDeleteCategoryModal:I,TheChangeCategoriesModal:q,TheSidebar:H,TheHeader:z,TheStub:ie,CategoryList:Ce,TheFilteredArticles:Se,TheNothingFoundStub:ke,ThePreloader:Be["default"],ThePagination:De},data(){return{text:"",currentPage:1,numberOfPages:null,renderedCategoriesData:null,currentSearchResultsPage:1,searchResultsPages:null,renderedArticlesData:[],searchResultArticles:null}},methods:{restoreStoreLastState(){const e=JSON.parse(localStorage.getItem("categories"));e&&this.addNewCategory(e)},async getArticles(){const e=await fetch("articles.json");if(e.ok){const t=await e.json();setTimeout(()=>{this.$store.commit("setArticles",t)},500)}},onPageChange(e){this[this.getChangedPageProp()]=e},onDecrementPageCounter(){this[this.getChangedPageProp()]-=1},onIncrementPageCounter(){this[this.getChangedPageProp()]+=1},getChangedPageProp(){return this.$store.state.searchQuery.length?"currentSearchResultsPage":"currentPage"},collectRenderedData(e,t,s){let i=(e-1)*t;const r=e*t,a=[];for(;i<r;i+=1){const e=s[i],t=e?JSON.parse(JSON.stringify(e)):void 0;if(!t)break;a.push(t)}return a},countNumberOfPages(e,t){return Math.ceil(e.length/t)},...Object(d["b"])(["addNewCategory"]),...Object(d["c"])(["getFilteredArticles","changeModal/getModalState"])},computed:{...Object(d["c"])(["isArticlesDownloaded","isCategoriesAdded","getCategories","getCategoriesPerPage","getSearchQuery"]),getCurrentPage(){return this.$store.state.searchQuery.length?this.currentSearchResultsPage:this.currentPage},getNumberOfPages(){return this.$store.state.searchQuery.length?this.searchResultsPages:this.numberOfPages},getPaginationVisibility(){return this.isCategoriesAdded&&this.isSearchQueryEmpty||0!==this.renderedArticlesData.length&&0!==this.isSearchQueryEmpty},isSearchQueryEmpty(){return 0===this.getSearchQuery.length}},watch:{"$store.state.categories":{handler(e){this.numberOfPages=this.countNumberOfPages(e,this.$store.state.categoriesPerPage),this.renderedCategoriesData=this.collectRenderedData(this.currentPage,this.$store.state.categoriesPerPage,this.$store.state.categories)},immediate:!0,deep:!0},currentPage:{handler(e){this.renderedCategoriesData=this.collectRenderedData(e,this.$store.state.categoriesPerPage,this.$store.state.categories)},immediate:!0},"$store.state.searchQuery":{handler(e){if(""===e)return this.renderedArticlesData=[],void(this.searchResultArticles=[]);const t=this.getFilteredArticles();this.searchResultsPages=this.countNumberOfPages(t,this.$store.state.searchResultsPerPage),this.searchResultArticles=t.length,this.renderedArticlesData=this.collectRenderedData(1,this.$store.state.searchResultsPerPage,this.getFilteredArticles())}},currentSearchResultsPage:{handler(e){this.renderedArticlesData=this.collectRenderedData(e,this.$store.state.searchResultsPerPage,this.getFilteredArticles())},immediate:!0},numberOfPages:{handler(e,t){e<t&&this.currentPage>1&&(this.currentPage=e)}}},async mounted(){this.getArticles(),this.restoreStoreLastState()},updated(){if(CSS.highlights){const e=[],t=this.getSearchQuery.toLowerCase();Array.from(document.body.querySelectorAll(".category-list-article__headline")).forEach(s=>{const i=s.textContent.toLowerCase(),r=i.indexOf(t);if(-1!==r){const t=new Range;t.setStart(s.firstChild,r),t.setEnd(s.firstChild,r+this.getSearchQuery.length),e.push(t)}});const s=new Highlight(...e);CSS.highlights.set("articles-highlights",s)}}},je=Qe,Te=(s("0298"),Object(w["a"])(je,l,c,!1,null,null,null)),qe=Te.exports;i["a"].use(d["a"]);var Le=new d["a"].Store({state:{searchQuery:"",categoriesPerPage:3,searchResultsPerPage:12,articles:[],categories:[],editedCategory:null,articleParentCategories:null,editedArticleID:null},mutations:{setArticles(e,t){e.articles=t.map(e=>{const t={...e};return t.isLiked=!1,t})},setCategories(e,t){e.categories=t},setSearchQuery(e,t){e.searchQuery=t},addLike(e,t){const s=JSON.parse(JSON.stringify(e.articles[t]));s.likes+=1,s.isLiked=!0,e.articles.splice(t,1,s)},removeLike(e,t){const s=JSON.parse(JSON.stringify(e.articles[t]));s.likes-=1,s.isLiked=!1,e.articles.splice(t,1,s)},changeEditedCategory(e,t){e.editedCategory=t},deleteEditedCategory(e){e.editedCategory=null},changeArticleParentCategory(e,t){e.articleParentCategories=t},changeEditedArticleID(e,t){e.editedArticleID=t}},getters:{isArticlesDownloaded(e){return e.articles.length},isCategoriesAdded(e){return e.categories.length},getCategories(e){return e.categories},getCategoriesPerPage(e){return e.categoriesPerPage},getEditedCategory(e){return e.editedCategory},getSearchQuery(e){return e.searchQuery},getFilteredArticles(e){const t=e.searchQuery.toLowerCase();return e.articles.filter(e=>-1!==e.headline.toLowerCase().indexOf(t)).sort((e,t)=>e>t)},getEditedArticleID(e){return e.editedArticleID}},actions:{addNewCategory(e,t){e.commit("setCategories",t)},setEditedCategory(e,t){e.commit("changeEditedCategory",t)},deleteEditedCategory(e){e.commit("deleteEditedCategory")},updateSearchQuery(e,t){e.commit("setSearchQuery",t)},setArticleParentCategories(e,t){e.commit("changeArticleParentCategory",t)},setEditedArticleID(e,t){e.commit("changeEditedArticleID",t)}},modules:{modal:{namespaced:!0,state:{isVisible:!1},mutations:{close(e){e.isVisible=!1},open(e){e.isVisible=!0}},actions:{openModal(e){e.commit("open")}}},deleteModal:{namespaced:!0,state:{isVisible:!1},mutations:{close(e){e.isVisible=!1},open(e){e.isVisible=!0}},actions:{openModal(e){e.commit("open")},closeModal(e){e.commit("close")}}},changeModal:{namespaced:!0,state:{isVisible:!1},mutations:{close(e){e.isVisible=!1},open(e){e.isVisible=!0}},getters:{getModalState(e){return e.isVisible}},actions:{openModal(e){e.commit("open")},closeModal(e){e.commit("close")}}}}}),Ve=function(){var e=this,t=e._self._c;return t("button",{staticClass:"base-action-button",class:{"base-action-button_add-icon":e.isAddButton,"base-action-button_bg":e.bg},attrs:{disabled:e.disabled},on:{click:t=>e.$emit("onButtonClicked",t)}},[e._v(" "+e._s(e.text)+" ")])},Fe=[],Re={props:{text:{type:String,required:!0,validator(e){return e}},bg:{type:Boolean,required:!1,default:!1},isAddButton:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}}},Je=Re,He=(s("50be"),Object(w["a"])(Je,Ve,Fe,!1,null,"2fa22acc",null)),Ge=He.exports,Ke=function(){var e=this,t=e._self._c;return t("div",{staticClass:"base-input"},[t("label",{staticClass:"base-input__label"},[t("legend",{staticClass:"base-input__legend",class:{"base-input__legend_decrease-legend":e.focused|e.isNotEmpty|e.isInputNotCorrect}},[e._v(" "+e._s(e.legend)+" ")]),t("input",{ref:"self",staticClass:"base-input__input",class:{"base-input__input_loupe_icon":e.isSearchInput,"base-input__input_error":e.isInputNotCorrect},attrs:{type:"text"},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}})]),e.isInputNotCorrect?t("p",{staticClass:"base-input__error-message"},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()])},We=[],Ue={props:{legend:{type:String,required:!0},value:{type:String,required:!0},error:{type:Boolean,required:!1,default:!1},errorMessage:{type:String,required:!1,default:"Ошибка"},type:{type:String,required:!1,default:"",validator(e){return-1!==["search","select",""].indexOf(e)}}},data(){return{focused:!1}},methods:{onFocus(){this.focused=!0},onBlur(){this.focused=!1},onInput(e){this.$emit("input",e.target.value)},onButtonClicked(e){this.$emit("select-button-clicked",e)}},computed:{isNotEmpty(){return""!==this.value},isInputNotCorrect(){return this.error},isSearchInput(){return"search"===this.type}}},Ye=Ue,ze=(s("7909"),Object(w["a"])(Ye,Ke,We,!1,null,"6d7f197a",null)),Xe=ze.exports,Ze=function(){var e=this,t=e._self._c;return t("section",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onCloseDropdown,expression:"onCloseDropdown"}],staticClass:"base-select"},[t("label",{staticClass:"base-select__label"},[t("legend",{staticClass:"base-select__legend",class:{"base-select__legend_decrease-legend":e.focused|e.isNotEmpty|e.isInputNotCorrect}},[e._v(" "+e._s(e.legend)+" ")]),t("input",{ref:"self",staticClass:"base-select__input",class:{"base-select__input_error":e.isInputNotCorrect},attrs:{type:"text"},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}),t("button",{staticClass:"base-select__button",class:{"base-select__button_rotated":e.isOpened},attrs:{type:"button"},on:{click:e.onInputClicked}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpened,expression:"isOpened"}],staticClass:"base-select__dropdown"},e._l(e.options,(function(s,i){return t("p",{key:s+i,staticClass:"base-select__option",class:{"base-select__option_highlighted":e.optionHighlightedIndex===i},on:{click:function(t){return t.stopPropagation(),(()=>e.onOptionClicked(s)).apply(null,arguments)}}},[e._v(" "+e._s(s)+" ")])})),0),e.isInputNotCorrect?t("p",{staticClass:"base-select__error-message"},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()])},et=[],tt={directives:{clickOutside:n.a.directive},props:{legend:{type:String,required:!0},value:{type:String,required:!0},error:{type:Boolean,required:!1,default:!1},errorMessage:{type:String,required:!1,default:"Ошибка"},options:{type:Array,required:!0},optionHighlightedIndex:{type:Number,required:!0}},data(){return{isOpened:!1,focused:!1}},methods:{onFocus(){this.focused=!0},onBlur(){this.focused=!1,this.onCloseDropdown()},onInput(e){this.$emit("input",e.target.value)},onOptionClicked(e){this.$emit("input",e),this.onCloseDropdown()},onInputClicked(){this.isOpened=!this.isOpened},onCloseDropdown(){this.isOpened=!1}},computed:{isNotEmpty(){return""!==this.value},isInputNotCorrect(){return this.error}},watch:{value(e){""===e?this.isOpened=!1:this.focused&&(this.isOpened=!0)},error(e,t){e&&this.isOpened?this.isOpened=!1:e||!t||this.isOpened||(this.isOpened=!0)}}},st=tt,it=(s("068a"),Object(w["a"])(st,Ze,et,!1,null,null,null)),rt=it.exports,at=function(){var e=this,t=e._self._c;return t("section",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onCloseDropdown,expression:"onCloseDropdown"}],staticClass:"base-multi-select"},[t("label",{staticClass:"base-multi-select__label",class:{"mb-16px":e.isSlotVisible}},[t("legend",{staticClass:"base-multi-select__legend",class:{"base-multi-select__legend_decrease-legend":e.focused|e.isNotEmpty|e.isInputNotCorrect}},[e._v(" "+e._s(e.legend)+" ")]),t("input",{ref:"self",staticClass:"base-multi-select__input",class:{"base-input__input_error":e.isInputNotCorrect},attrs:{type:"text"},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.onEnterPressed.apply(null,arguments))}}}),t("button",{staticClass:"base-multi-select__button",class:{"base-multi-select__button_rotated":e.isOpened},attrs:{type:"button"},on:{click:e.onInputClicked}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpened,expression:"isOpened"}],staticClass:"base-multi-select__dropdown"},e._l(e.options,(function(s,i){return t("p",{key:s+i,staticClass:"base-multi-select__option",class:{"base-multi-select__option_highlighted ":e.optionHighlightedIndex===i},on:{click:()=>e.onOptionClicked(s,i)}},[e._v(" "+e._s(s)+" ")])})),0),e.isInputNotCorrect?t("p",{staticClass:"base-multi-select__error-message"},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e(),e._t("default",null,{slotInputHandler:e.onSlotInputChange,slotInputValue:e.slotValue,slotError:e.slotError,slotErrorMessage:e.slotErrorMessage,slotVisibility:e.isSlotVisible,slotHideSlotContent:e.onHideSlotContent,slotButtonHandler:e.onSlotButtonClicked}),t("div",{staticClass:"base-multiselect__selected-options"},e._l(e.selectedOptions,(function(s,i){return t("div",{key:s+i,staticClass:"base-multiselect__selected-option mr-16px",on:{click:function(t){return e.onDeleteOption(s)}}},[t("button",{staticClass:"base-multiselect__delete-button mr-12px",attrs:{type:"button"}}),t("p",{staticClass:"base-multiselect__selected-option-name"},[e._v(" "+e._s(s)+" ")])])})),0)],2)},ot=[],nt={directives:{clickOutside:n.a.directive},props:{legend:{type:String,required:!0},value:{type:String,required:!0},slotValue:{type:String,required:!1},slotError:{type:Boolean,required:!1},slotErrorMessage:{type:String,required:!1},error:{type:Boolean,required:!1,default:!1},errorMessage:{type:String,required:!1,default:"Ошибка"},options:{type:Array,required:!0},selectedOptions:{type:Array,required:!0},optionHighlightedIndex:{type:Number,required:!0}},data(){return{isOpened:!1,focused:!1,isSlotVisible:!1}},methods:{onFocus(){this.focused=!0},onBlur(){this.focused=!1},onSlotInputChange(e){this.$emit("slotInputChange",e)},onSlotButtonClicked(){this.$emit("slotButtonClicked"),this.isSlotVisible=!1},onInput(e){this.$emit("input",e.target.value)},onEnterPressed(e){this.$emit("option-selected",e.target.value),this.onCloseDropdown()},onOptionClicked(e,t){0===t&&void 0!==this.slotValue?(this.isSlotVisible=!0,this.$emit("option-selected","")):this.$emit("option-selected",e),this.onCloseDropdown()},onHideSlotContent(){},onInputClicked(){this.isOpened=!this.isOpened},onDeleteOption(e){this.$emit("option-deleted",e)},onCloseDropdown(){this.isOpened=!1}},computed:{isNotEmpty(){return""!==this.value},isInputNotCorrect(){return this.error}},watch:{value(e){this.isOpened=""!==e},error(e,t){e&&this.isOpened?this.isOpened=!1:e||!t||this.isOpened||(this.isOpened=!0)}}},lt=nt,ct=(s("631e"),Object(w["a"])(lt,at,ot,!1,null,null,null)),dt=ct.exports,ut=function(){var e=this,t=e._self._c;return t("button",{staticClass:"base-cancel-button",class:{"base-cancel-button_bg":e.bg},attrs:{type:"button"},on:{click:t=>e.$emit("onButtonClicked",t)}},[e._v(" "+e._s(e.text)+" ")])},ht=[],gt={props:{text:{type:String,required:!0,validator(e){return e}},bg:{type:Boolean,required:!1,default:!1}}},pt=gt,yt=(s("5d27"),Object(w["a"])(pt,ut,ht,!1,null,"902edf66",null)),mt=yt.exports,Ct=function(){var e=this,t=e._self._c;return t("label",{staticClass:"base-like-button"},[t("input",{staticClass:"base-like-button__input",attrs:{type:"checkbox"},domProps:{value:e.isChecked},on:{input:function(t){return e.$emit("input",e.isChecked)}}}),t("span",{staticClass:"base-like-button__button",class:{"base-like-button__button_checked":e.isChecked}}),t("span",{staticClass:"base-like-button__counter"},[e._v(e._s(e.counter))])])},bt=[],ft={props:{isChecked:{type:Boolean,required:!0},counter:{type:Number,required:!0}}},_t=ft,vt=(s("53a2"),Object(w["a"])(_t,Ct,bt,!1,null,"30f802cf",null)),Ot=vt.exports,St=function(){var e=this,t=e._self._c;return t("button",{staticClass:"base-edit-button",on:{click:t=>e.$emit("onButtonClicked",t)}})},Pt=[],wt={},xt=wt,Nt=(s("aa59"),Object(w["a"])(xt,St,Pt,!1,null,"6d036a12",null)),kt=Nt.exports;i["a"].use(a.a),i["a"].use(n.a),i["a"].component("BaseActionButton",Ge),i["a"].component("BaseInput",Xe),i["a"].component("BaseSelect",rt),i["a"].component("BaseMultiSelect",dt),i["a"].component("BaseCancelButton",mt),i["a"].component("BaseLikeButton",Ot),i["a"].component("BaseEditButton",kt),i["a"].config.productionTip=!1,new i["a"]({store:Le,render:e=>e(qe)}).$mount("#app")},"5b36":function(e,t,s){"use strict";s("ab7a")},"5d27":function(e,t,s){"use strict";s("1ca4")},"631e":function(e,t,s){"use strict";s("1e2d")},"6bfa":function(e,t,s){},7909:function(e,t,s){"use strict";s("6bfa")},8687:function(e,t,s){"use strict";s("9f77")},"91e7":function(e,t,s){"use strict";s("c983")},"9f77":function(e,t,s){},a469:function(e,t,s){"use strict";s("000f")},a524:function(e,t,s){"use strict";var i=s("c420"),r=s("d446"),a=(s("d900"),s("2877")),o=Object(a["a"])(r["default"],i["a"],i["b"],!1,null,"021f49aa",null);t["default"]=o.exports},aa59:function(e,t,s){"use strict";s("0f63")},aad2:function(e,t,s){"use strict";s("e39c")},ab7a:function(e,t,s){},ad3d:function(e,t,s){},c420:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return r}));var i=function(){var e=this;e._self._c,e._self._setupProxy;return e._m(0)},r=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"layout"},[t("span",{staticClass:"layout__preloader"})])}]},c983:function(e,t,s){},d446:function(e,t,s){"use strict";var i=s("e139"),r=s.n(i);t["default"]=r.a},d472:function(e,t,s){},d900:function(e,t,s){"use strict";s("4918")},dc4f:function(e,t,s){},df0f:function(e,t,s){},e139:function(e,t){},e39c:function(e,t,s){},edbb:function(e,t,s){},f9c4:function(e,t,s){"use strict";s("1679")}});
//# sourceMappingURL=app.6a711e6f.js.map